<!-- chessboard.component.html -->


<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" class="chessboard w-full h-full" cdkDragBoundary>
    <!-- Draw chessboard squares -->
    <ng-container *ngFor="let row of [0, 1, 2, 3, 4, 5, 6, 7]; let evenRow = even">
        <ng-container *ngFor="let col of [0, 1, 2, 3, 4, 5, 6, 7]; let evenCol = even">
          <rect [attr.x]="col * 50" [attr.y]="row * 50" width="50" height="50"
                [attr.fill]="evenRow ? (evenCol ? '#769656' : '#eeeed2') : (evenCol ? '#eeeed2' : '#769656')"
                class="square-{{7-row}}-{{col}}">
          </rect>
        </ng-container>
      </ng-container>
      <ng-container *ngFor="let row of [0, 1, 2, 3, 4, 5, 6, 7]; let evenRow = even">
        <ng-container *ngFor="let col of [0, 1, 2, 3, 4, 5, 6, 7]; let evenCol = even">
          <image *ngIf="boardState[row][col] != '--'" class="chess-piece" 
          cdkDrag
          [attr.x]="col * 50" 
          [attr.y]="row * 50" width="50" height="50"
          [attr.href]="keyValuePairs.get(boardState[row][col])">
          </image>
        </ng-container>
      </ng-container>
</svg>
